server {
    listen 80;
    server_name localhost;

    root /usr/share/nginx/html;
    index login.html;

    # Backend API yönlendirmesi
    location /api/ {
        proxy_pass http://backend:3000/;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # /master altında gelen isteklerde master/login.html gösterilsin
    location /master {
        alias /usr/share/nginx/html/master/;
        index login.html;
        try_files $uri $uri/ /master/login.html;
    }

    location /dashboard {
        try_files $uri /dashboard.html;
    }

    location /residents {
        try_files $uri /residents.html;
    }

    location /payment {
        try_files $uri /payment.html;
    }

    location /announcement {
        try_files $uri /announcements.html;
    }

    location /social-facilities {
        try_files $uri /socialfacilities.html;
    }

    location /complaints {
        try_files $uri /complaint_request.html;
    }

    location / {
        try_files $uri $uri/ /login.html;
    }
}
